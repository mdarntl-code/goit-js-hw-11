{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from \"axios\";\n\nconst API_KEY = \"54229536-6dca3b178fde1af9ce529c0e1\";\nconst BASE_URL = \"https://pixabay.com/api/\";\n\nexport function getImagesByQuery(query) {\n    return axios.get(BASE_URL, {\n        params:{\n            key: API_KEY,\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: 'true'\n        }\n    }).then((responce) => {\n        return responce.data;\n    });\n}","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\nlet lightbox = new SimpleLightbox('.gallery a', {\n    captionsData: 'alt',\n    captionDelay: 250,\n  });\n\nexport function createGallery(images) {\n    const gallery = document.querySelector('.gallery');\n    const markup = images.map((image) => {\n        return `<li class=\"gallery-item\">\n        <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n            <img class=\"gallery-image\" \n            src=\"${image.webformatURL}\" \n            alt=\"${image.tags}\"/>\n        </a>\n        <div class=\"info\">\n          <p class=\"info-item\"><b>Likes</b> ${image.likes}</p>\n          <p class=\"info-item\"><b>Views</b> ${image.views}</p>\n          <p class=\"info-item\"><b>Comments</b> ${image.comments}</p>\n          <p class=\"info-item\"><b>Downloads</b> ${image.downloads}</p>\n        </div>\n        </li>`;\n    }).join('');\n\n    gallery.insertAdjacentHTML('beforeend', markup);\n\n    lightbox.refresh();\n}\n\nexport function clearGallery() {\n    const gallery = document.querySelector(\".gallery\");\n    gallery.innerHTML = \"\";\n}\n\nexport function showLoader() {\n    const loader = document.querySelector(\".loader\");\n    if(loader) loader.classList.remove(\"is-hidden\");\n}\n\nexport function hideLoader() {\n    const loader = document.querySelector(\".loader\");\n    if(loader) loader.classList.add(\"is-hidden\");\n}\n\n","import { getImagesByQuery } from './js/pixabay-api';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst formEl = document.querySelector('.form');\n\nformEl.addEventListener('submit', onFormSubmit);\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n  const inputResult = evt.target.elements['search-text'].value.trim();\n  if (!inputResult) {\n    iziToast.warning({\n      title: 'Caution',\n      message: 'Please enter a search query!',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  clearGallery();\n  showLoader();\n\n  getImagesByQuery(inputResult).then(data => {\n    if (data.hits.length === 0) {\n      iziToast.error({\n        title: 'Error',\n        message:\n          'Sorry, there are no images matching your search query. Please try again!',\n        position: 'topRight',\n      });\n      return;\n    }\n\n    createGallery(data.hits);\n})\n.catch(error => {\n        iziToast.error({\n          title: 'Error',\n          message: `Something went wrong: ${error.message}`,\n          position: 'topRight',\n        });\n      })\n      .finally(() => {\n        hideLoader();\n        formEl.reset();\n      \n  });\n}\n"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","axios","responce","lightbox","SimpleLightbox","createGallery","images","gallery","markup","image","clearGallery","showLoader","loader","hideLoader","formEl","onFormSubmit","evt","inputResult","iziToast","data","error"],"mappings":"owBAEA,MAAMA,EAAU,qCACVC,EAAW,2BAEV,SAASC,EAAiBC,EAAO,CACpC,OAAOC,EAAM,IAAIH,EAAU,CACvB,OAAO,CACH,IAAKD,EACL,EAAGG,EACH,WAAY,QACZ,YAAa,aACb,WAAY,MACf,CACT,CAAK,EAAE,KAAME,GACEA,EAAS,IACnB,CACL,CCdA,IAAIC,EAAW,IAAIC,EAAe,aAAc,CAC5C,aAAc,MACd,aAAc,GAClB,CAAG,EAEI,SAASC,EAAcC,EAAQ,CAClC,MAAMC,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAASF,EAAO,IAAKG,GAChB;AAAA,wCACyBA,EAAM,aAAa;AAAA;AAAA,mBAExCA,EAAM,YAAY;AAAA,mBAClBA,EAAM,IAAI;AAAA;AAAA;AAAA,8CAGiBA,EAAM,KAAK;AAAA,8CACXA,EAAM,KAAK;AAAA,iDACRA,EAAM,QAAQ;AAAA,kDACbA,EAAM,SAAS;AAAA;AAAA,cAG5D,EAAE,KAAK,EAAE,EAEVF,EAAQ,mBAAmB,YAAaC,CAAM,EAE9CL,EAAS,QAAO,CACpB,CAEO,SAASO,GAAe,CAC3B,MAAMH,EAAU,SAAS,cAAc,UAAU,EACjDA,EAAQ,UAAY,EACxB,CAEO,SAASI,GAAa,CACzB,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC5CA,GAAQA,EAAO,UAAU,OAAO,WAAW,CAClD,CAEO,SAASC,GAAa,CACzB,MAAMD,EAAS,SAAS,cAAc,SAAS,EAC5CA,GAAQA,EAAO,UAAU,IAAI,WAAW,CAC/C,CCjCA,MAAME,EAAS,SAAS,cAAc,OAAO,EAE7CA,EAAO,iBAAiB,SAAUC,CAAY,EAC9C,SAASA,EAAaC,EAAK,CACzBA,EAAI,eAAc,EAClB,MAAMC,EAAcD,EAAI,OAAO,SAAS,aAAa,EAAE,MAAM,OAC7D,GAAI,CAACC,EAAa,CAChBC,EAAS,QAAQ,CACf,MAAO,UACP,QAAS,+BACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDR,IACAC,IAEAZ,EAAiBkB,CAAW,EAAE,KAAKE,GAAQ,CACzC,GAAIA,EAAK,KAAK,SAAW,EAAG,CAC1BD,EAAS,MAAM,CACb,MAAO,QACP,QACE,2EACF,SAAU,UAClB,CAAO,EACD,MACD,CAEDb,EAAcc,EAAK,IAAI,CAC3B,CAAC,EACA,MAAMC,GAAS,CACRF,EAAS,MAAM,CACb,MAAO,QACP,QAAS,yBAAyBE,EAAM,OAAO,GAC/C,SAAU,UACpB,CAAS,CACT,CAAO,EACA,QAAQ,IAAM,CACbP,IACAC,EAAO,MAAK,CAEpB,CAAG,CACH"}